<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../basic-help/src/Tools.js" type="text/javascript"></script>
    <script src="../basic-event/src/Event.js" type="text/javascript"></script>
    <script src="../basic-event/src/EventPool.js" type="text/javascript"></script>
    <script src="../basic-event/src/EventDispatcher.js" type="text/javascript"></script>
    <script type="text/javascript">
        function DisplayObj() {
            this.parent = null;
            this.isDisplayObject = true;
            basic.EventDispatcher.apply(this);
        }
        function DisplayObjContainer() {

            DisplayObj.apply(this);
            this.addChild = function (child) {
                child.parent = this;
            };
            this.removeChild = function (child) {
                child.parent = null;
            }

        }
        function Class1(obj, container) {
            this.obj = obj;
            this.container = container;
            this.operate = function (event, data) {
                if (event.mCurrentTarget === this.obj) {
                    //this.container.removeEventListener("aaa", this.operate);
                    //this.container.removeChild(this.obj);
                    this.obj.addEventListener("aaa", this.operate1, this)
                }
            };
            this.operate1 = function (event, data) {

            }

        }
        window.onload = function () {
            var event1 = basic.eventPool.fromPool("111", true, "222");
            var event2 = basic.eventPool.fromPool("333", true, "444");
            basic.eventPool.toPool(event1);
            basic.eventPool.toPool(event2);
            var event3 = basic.eventPool.fromPool("555", true, "666");
            var event4 = basic.eventPool.fromPool("777", true, "888");
            var event5 = basic.eventPool.fromPool("999", true, "100");

            var obj = new DisplayObj();
            var container = new DisplayObjContainer();
            container.addChild(obj);
            var clazz = new Class1(obj, container);
            obj.addEventListener("aaa", clazz.operate, clazz);
            container.addEventListener("aaa", clazz.operate, clazz);
            obj.dispatchEventWith("aaa", true, "bbb");

        }
    </script>
</head>
<body>

</body>
</html>