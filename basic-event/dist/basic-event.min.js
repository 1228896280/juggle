!function(t){t.basic||(t.basic={});var i=t.basic.tools;t.basic.Event=function(t,s,e){this.mTarget=null,this.mCurrentTarget=null,this.mType=null,this.mBubbles=null,this.mStopsPropagation=null,this.mStopsImmediatePropagation=null,this.mData=null,this.stopPropagation=function(){this.mStopsPropagation=!0},this.stopImmediatePropagation=function(){this.mStopsPropagation=this.mStopsImmediatePropagation=!0},this.reset=function(t,s,e){return i.isNull(s)&&(s=!1),i.isNull(e)&&(e=null),this.mType=t,this.mBubbles=s,this.mData=e,this.mTarget=this.mCurrentTarget=null,this.mStopsPropagation=this.mStopsImmediatePropagation=!1,this},this.reset(t,s,e)}}(window),function(t){t.basic||(t.basic={});var i=t.basic.Event;t.basic.eventPool=new function(){this.sEventPool=[],this.fromPool=function(t,s,e){return this.sEventPool.length?this.sEventPool.pop().reset(t,s,e):new i(t,s,e)},this.toPool=function(t){t.mData=t.mTarget=t.mCurrentTarget=null,this.sEventPool[this.sEventPool.length]=t}}}(window),function(t){t.basic||(t.basic={});var i=t.basic.eventPool,s=t.basic.tools,e=[],n=[];t.basic.EventDispatcher=function(){this.mEventListeners=null,this.isEventDispatcher=!0,this.addEventListener=function(t,i,e){s.isNull(this.mEventListeners)&&(this.mEventListeners=[]);var o=this.mEventListeners[t];s.isNull(o)?(this.mEventListeners[t]=[i],n[i]=e):-1===s.indexOf(o,i)&&(o.push(i),n[i]=e)},this.removeEventListener=function(t,i){if(this.mEventListeners){var s=this.mEventListeners[t],e=s?s.length:0;if(e>0){for(var n=0,o=[],r=0;r<e;++r){var a=s[r];a!==i&&(o[n++]=a)}this.mEventListeners[t]=o}}},this.removeEventListeners=function(t){t&&this.mEventListeners?delete this.mEventListeners[t]:this.mEventListeners=null},this.dispatchEvent=function(t){var i=t.mBubbles;if(i||!s.isNull(this.mEventListeners)&&t.mType in this.mEventListeners){var e=t.mTarget;t.mTarget=this,i&&this.isDisplayObject?this.bubbleEvent(t):this.invokeEvent(t),e&&(t.mTarget=e)}},this.invokeEvent=function(t){var i=this.mEventListeners?this.mEventListeners[t.mType]:null,e=s.isNull(i)?0:i.length;if(e){t.mCurrentTarget=this;for(var o=0;o<e;++o){var r=i[o],a=r.length;if(0===a?r.call(n[r]):1===a?r.call(n[r],t):r.call(n[r],t,t.mData),t.mStopsImmediatePropagation)return!0}return t.mStopsPropagation}return!1},this.bubbleEvent=function(t){var i,s=this,n=1;for(e.length>0?(i=e.pop())[0]=s:i=[s];null!==(s=s.parent);)i[n++]=s;for(var o=0;o<n&&!i[o].invokeEvent(t);++o);i.length=0,e.push(i)},this.dispatchEventWith=function(t,e,n){if(s.isNull(e)&&(e=!1),s.isNull(n)&&(n=null),e||this.hasEventListener(t)){var o=i.fromPool(t,e,n);this.dispatchEvent(o),i.toPool(o)}},this.hasEventListener=function(t){var i=this.mEventListeners?this.mEventListeners[t]:null;return!!i&&0!==i.length}}}(window);